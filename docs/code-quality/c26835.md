---
title: Warning C26835
description: "Describes the Microsoft C/C++ code analysis warning C26835, its causes, and how to address it."
ms.date: 03/06/2023
f1_keywords: ["C26835", "RTL_COMPARE_MEMORY_MISUSE"]
helpviewer_keywords: ["C26835"]
---
# Warning C26835

> 'RtlCompareMemory' returns the number of matching bytes. Consider replacing this call with `RtlEqualMemory`

## Remarks

When `RtlCompareMemory`'s return value is used in a boolean context (compared to 0 or converted to bool), it evaluates to true whenever a single byte matches. This is often not intentional. To check for equality, consider using `RtlEqualMemory` instead.

## Examples

```cpp
int foo(const void* ptr)
{
	if (RtlCompareMemory("test", ptr, 5)) // C26835
	{
		// ... 
	}
}
```

To fix thee issue, verify if the original intention was to check for equality and replace the function call with `RtlEqualMemory`.

```cpp
int foo(const void* ptr)
{
	if (RtlEqualMemory("test", ptr, 5)) // C26835
	{
		// ... 
	}
}
```